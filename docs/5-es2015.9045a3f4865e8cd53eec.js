(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"22IH":function(e,t,i){"use strict";i.r(t),i.d(t,"RecipeModule",(function(){return T}));var n=i("3Pt+"),r=i("tyNb"),c=i("dL7J"),o=i("g0Sx"),s=i("lJxs"),a=i("eIep"),b=i("R0Ic"),p=i("fXoL"),d=i("kt0X"),l=i("ofXK");let u=(()=>{class e{constructor(){this.isOpen=!1}toggleDropdown(){this.isOpen=!this.isOpen}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=p.Cb({type:e,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(e,t){1&e&&p.Rb("click",(function(){return t.toggleDropdown()})),2&e&&p.zb("open",t.isOpen)}}),e})();var m=i("aufQ");function g(e,t){if(1&e&&(p.Kb(0,"div",14),p.ic(1),p.Jb()),2&e){const e=t.$implicit;p.xb(1),p.lc(" ",e.name," - ",e.amount," ")}}function h(e,t){if(1&e){const e=p.Lb();p.Kb(0,"div",2),p.Kb(1,"div",3),p.Ib(2,"img",4),p.Jb(),p.Kb(3,"div",5),p.Kb(4,"h1"),p.ic(5),p.Jb(),p.Jb(),p.Kb(6,"div",5),p.Kb(7,"div",6),p.Kb(8,"button",7),p.ic(9," Manage Recipe "),p.Jb(),p.Kb(10,"div",8),p.Kb(11,"a",9),p.Rb("click",(function(){return p.cc(e),p.Tb().addIngredientsToShoppingList()})),p.ic(12,"To Shopping List"),p.Jb(),p.Kb(13,"a",9),p.Rb("click",(function(){return p.cc(e),p.Tb().onEditRecipe()})),p.ic(14,"Edit Recipe"),p.Jb(),p.Kb(15,"a",9),p.Rb("click",(function(){return p.cc(e),p.Tb().onDeleteRecipe()})),p.ic(16,"Delete Recipe"),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Kb(17,"div",10),p.Kb(18,"p",11),p.ic(19),p.Jb(),p.Jb(),p.Kb(20,"div",12),p.gc(21,g,2,2,"div",13),p.Jb(),p.Jb()}if(2&e){const e=p.Tb();p.Wb("@recipe-detail",e.animationState),p.xb(2),p.Wb("src",e.recipeDetails.imagePath,p.dc),p.xb(3),p.jc(e.recipeDetails.name),p.xb(14),p.kc(" ",e.recipeDetails.description," "),p.xb(2),p.Wb("ngForOf",e.recipeDetails.ingredients)}}function f(e,t){1&e&&(p.Kb(0,"p"),p.ic(1,"Recipe Details Not Found"),p.Jb())}const v=[Object(b.j)("recipe-detail",[Object(b.g)("normal",Object(b.h)({opacity:1,transform:"translateX(0)"})),Object(b.i)("* <=> *",[Object(b.h)({opacity:0,transform:"translateX(-100px)"}),Object(b.e)(500)])])];let J=(()=>{class e{constructor(e,t,i){this.activeRoute=e,this.routerService=t,this.store=i}ngOnInit(){this.animationState="normal",this.activeRoute.params.pipe(Object(s.a)(e=>+e.id),Object(a.a)(e=>(this.id=e,this.store.select("recipes"))),Object(s.a)(e=>e.recipes.find((e,t)=>t===this.id))).subscribe(e=>{this.animationState="normal"===this.animationState?"abnormal":"normal",this.recipeDetails=e})}addIngredientsToShoppingList(){this.store.dispatch(new c.d(this.recipeDetails.ingredients))}onEditRecipe(){this.routerService.navigate(["edit"],{relativeTo:this.activeRoute})}onDeleteRecipe(){this.store.dispatch(new o.d(this.id)),this.routerService.navigate(["/recipes"])}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(r.a),p.Hb(r.c),p.Hb(d.b))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-recipe-detail"]],decls:3,vars:2,consts:[["class","container edit-container","style","background-color: black; color:white; height: 100%; padding: 20px;",4,"ngIf","ngIfElse"],["noRecipeDetailsFound",""],[1,"container","edit-container",2,"background-color","black","color","white","height","100%","padding","20px"],[1,"col-xs-12",2,"text-align","center"],["alt","",1,"img-fluid",2,"max-height","300px",3,"src"],[1,"col-sx-12"],["appDropdown","",1,"dropdown","open"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["itemPointer","",1,"dropdown-item",3,"click"],[1,"col-xs-12"],[2,"text-align","left","margin-top","10px","margin-bottom","15px"],[1,"list-group"],["class","list-group-item","style","color: black;",4,"ngFor","ngForOf"],[1,"list-group-item",2,"color","black"]],template:function(e,t){if(1&e&&(p.gc(0,h,22,5,"div",0),p.gc(1,f,2,0,"ng-template",null,1,p.hc)),2&e){const e=p.bc(2);p.Wb("ngIf",t.recipeDetails)("ngIfElse",e)}},directives:[l.j,u,m.a,l.i],styles:["./recipe-detail.component.css"],data:{animation:v}}),e})(),K=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Bb({type:e,selectors:[["app-recipe-start"]],decls:2,vars:0,template:function(e,t){1&e&&(p.Kb(0,"h1"),p.ic(1,"Please select a recipe!"),p.Jb())},encapsulation:2}),e})();class x{constructor(e,t,i,n){this.name=e,this.description=t,this.imagePath=i,this.ingredients=n}}function O(e,t){if(1&e){const e=p.Lb();p.Kb(0,"div",20),p.Kb(1,"div",21),p.Ib(2,"input",22),p.Jb(),p.Kb(3,"div",23),p.Ib(4,"input",24),p.Jb(),p.Kb(5,"div",23),p.Kb(6,"button",5),p.Rb("click",(function(){p.cc(e);const i=t.index;return p.Tb().onDeleteIng(i)})),p.ic(7,"X"),p.Jb(),p.Jb(),p.Jb()}2&e&&p.Wb("formGroupName",t.index)}const w=[Object(b.j)("recipe-edit",[Object(b.g)("normal",Object(b.h)({opacity:1,transform:"translateX(0)"})),Object(b.i)("* <=> *",[Object(b.h)({opacity:0,transform:"translateX(-100px)"}),Object(b.e)(500)])])];let y=(()=>{class e{constructor(e,t,i){this.router=e,this.activeRoute=t,this.store=i,this.editMode=!1}ngOnDestroy(){this.storeSub&&this.storeSub.unsubscribe()}ngOnInit(){this.activeRoute.params.subscribe(e=>{this.id=+e.id,this.editMode=null!=e.id,this.initForm()})}initForm(){let e="",t="",i="",r=new n.c([]);this.editMode&&(this.storeSub=this.store.select("recipes").pipe(Object(s.a)(e=>e.recipes.find((e,t)=>t===this.id))).subscribe(c=>{e=c.name,t=c.imagePath,i=c.description;for(let e of c.ingredients)r.push(new n.g({name:new n.e(e.name,n.t.required),amount:new n.e(e.amount,[n.t.required,n.t.pattern(/^[1-9]+[0-9]*$/)])}))})),this.recipeForm=new n.g({name:new n.e(e,n.t.required),imagePath:new n.e(t,n.t.required),desc:new n.e(i,n.t.required),ingredientsArray:r})}onSubmit(){const e=new x(this.recipeForm.value.name,this.recipeForm.value.desc,this.recipeForm.value.imagePath,this.recipeForm.value.ingredientsArray);this.store.dispatch(this.editMode?new o.l({index:this.id,recipe:e}):new o.b(e)),this.onCancel()}get getRecipeIngControls(){return this.recipeForm.get("ingredientsArray").controls}onAddIng(){this.recipeForm.get("ingredientsArray").push(new n.g({name:new n.e(null,n.t.required),amount:new n.e(null,[n.t.required,n.t.pattern(/^[1-9]+[0-9]*$/)])}))}onCancel(){this.router.navigate(["../"],{relativeTo:this.activeRoute})}onDeleteIng(e){this.recipeForm.get("ingredientsArray").removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(r.c),p.Hb(r.a),p.Hb(d.b))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-recipe-edit"]],decls:40,vars:5,consts:[[1,"container","edit-container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xs-12",2,"padding","5px"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-sm-12"],[1,"form-group"],["for","name"],["type","text","name","name","formControlName","name",1,"form-control"],["for","imagePath"],["type","text","name","imagePath","formControlName","imagePath",1,"form-control"],["imagePath",""],[1,"img-thumbnail",3,"src"],["for","desc"],["name","decd","id","desc","rows","6","formControlName","desc",1,"form-control"],["formArrayName","ingredientsArray",1,"col-sm-12"],["class","row","style","margin-top: 10px;",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-sm-12","mb-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"row",2,"margin-top","10px",3,"formGroupName"],[1,"col-sm-8"],["type","text","formControlName","name",1,"form-control"],[1,"col-sm-2"],["type","number","formControlName","amount",1,"form-control"]],template:function(e,t){if(1&e&&(p.Kb(0,"div",0),p.Kb(1,"form",1),p.Rb("ngSubmit",(function(){return t.onSubmit()})),p.Kb(2,"div",2),p.Kb(3,"div",3),p.Kb(4,"button",4),p.ic(5,"Save"),p.Jb(),p.Kb(6,"button",5),p.Rb("click",(function(){return t.onCancel()})),p.ic(7,"Cancel"),p.Jb(),p.Jb(),p.Jb(),p.Kb(8,"div",2),p.Kb(9,"div",6),p.Kb(10,"div",7),p.Kb(11,"label",8),p.ic(12,"Name"),p.Jb(),p.Ib(13,"input",9),p.Jb(),p.Jb(),p.Jb(),p.Kb(14,"div",2),p.Kb(15,"div",6),p.Kb(16,"div",7),p.Kb(17,"label",10),p.ic(18,"Image Path"),p.Jb(),p.Ib(19,"input",11,12),p.Jb(),p.Jb(),p.Jb(),p.Kb(21,"div",2),p.Kb(22,"div",6),p.Kb(23,"div",7),p.Ib(24,"img",13),p.Jb(),p.Jb(),p.Jb(),p.Kb(25,"div",2),p.Kb(26,"div",6),p.Kb(27,"div",7),p.Kb(28,"label",14),p.ic(29,"Description"),p.Jb(),p.Kb(30,"textarea",15),p.ic(31,"                    "),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Kb(32,"div",2),p.Kb(33,"div",16),p.gc(34,O,8,1,"div",17),p.Jb(),p.Jb(),p.Ib(35,"hr"),p.Kb(36,"div",2),p.Kb(37,"div",18),p.Kb(38,"button",19),p.Rb("click",(function(){return t.onAddIng()})),p.ic(39," Add Ingredient "),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Jb()),2&e){const e=p.bc(20);p.xb(1),p.Wb("formGroup",t.recipeForm)("@recipe-edit",void 0),p.xb(3),p.Wb("disabled",!t.recipeForm.valid),p.xb(20),p.Wb("src",e.value,p.dc),p.xb(10),p.Wb("ngForOf",t.getRecipeIngControls)}},directives:[n.u,n.m,n.h,n.a,n.l,n.f,n.d,l.i,n.i,n.p],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.edit-container[_ngcontent-%COMP%]{border:1px solid #000;background-color:#83d39b}.btn[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}"],data:{animation:w}}),e})();var I=i("snw9"),j=i("IzEk"),R=i("LRne");let k=(()=>{class e{constructor(e,t){this.store=e,this.actions$=t}resolve(e,t){return this.store.select("recipes").pipe(Object(j.a)(1),Object(s.a)(e=>e.recipes),Object(a.a)(e=>0===e.length?(this.store.dispatch(new o.f),this.actions$.pipe(Object(I.d)(o.g),Object(j.a)(1))):Object(R.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(d.b),p.Ob(I.a))},e.\u0275prov=p.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const F=function(e){return[e]},D=[Object(b.j)("recipe-list",[Object(b.i)("void => *",[Object(b.h)({opacity:0,transform:"translateX(-100px)"}),Object(b.e)(500)])])];let P=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Bb({type:e,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",recipeIndex:["index","recipeIndex"]},decls:8,vars:8,consts:[["itemPointer","","routerLinkActive","active",1,"list-group-item","clearfix","m-1",3,"routerLink"],[1,"float-left"],[1,"float-right"],[1,"img-fluid",2,"max-height","50px",3,"src","alt"]],template:function(e,t){1&e&&(p.Kb(0,"a",0),p.Kb(1,"div",1),p.Kb(2,"h4"),p.ic(3),p.Jb(),p.Kb(4,"p"),p.ic(5),p.Jb(),p.Jb(),p.Kb(6,"span",2),p.Ib(7,"img",3),p.Jb(),p.Jb()),2&e&&(p.Wb("@recipe-list",void 0)("routerLink",p.Zb(6,F,t.recipeIndex)),p.xb(3),p.jc(t.recipe.name),p.xb(2),p.jc(t.recipe.description),p.xb(2),p.Xb("alt",t.recipe.name),p.Wb("src",t.recipe.imagePath,p.dc))},directives:[r.e,m.a,r.d],styles:[".list-group-item.active[_ngcontent-%COMP%]{background-color:#000;border-color:#000;color:#fff}.list-group-item[_ngcontent-%COMP%]{color:#000}"],data:{animation:D}}),e})();function S(e,t){1&e&&(p.Kb(0,"h3"),p.ic(1,"Our Recipies"),p.Jb())}function C(e,t){if(1&e&&p.Ib(0,"app-recipe-item",6),2&e){const e=t.index;p.Wb("recipe",t.$implicit)("index",e)}}let A=(()=>{class e{constructor(e,t,i){this.routerService=e,this.activeRoute=t,this.store=i}ngOnInit(){this.subscription=this.store.select("recipes").pipe(Object(s.a)(e=>e.recipes)).subscribe(e=>{e&&e.length?this.recipes=e:this.store.dispatch(new o.f)})}ngOnDestroy(){this.subscription.unsubscribe()}onAddRecipe(){this.routerService.navigate(["new"],{relativeTo:this.activeRoute})}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(r.c),p.Hb(r.a),p.Hb(d.b))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-recipe-list"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-sx-12"],[1,"btn","btn-primary",3,"click"],[1,"col-xs-12"],[4,"ngIf"],[3,"recipe","index",4,"ngFor","ngForOf"],[3,"recipe","index"]],template:function(e,t){1&e&&(p.Kb(0,"div",0),p.Kb(1,"div",1),p.Kb(2,"h3"),p.ic(3,"Want to add a new recipe?"),p.Jb(),p.Kb(4,"button",2),p.Rb("click",(function(){return t.onAddRecipe()})),p.ic(5,"Add Recipe"),p.Jb(),p.Jb(),p.Jb(),p.Ib(6,"hr"),p.Kb(7,"div",0),p.Kb(8,"div",3),p.gc(9,S,2,0,"h3",4),p.gc(10,C,1,2,"app-recipe-item",5),p.Jb(),p.Jb()),2&e&&(p.xb(9),p.Wb("ngIf",t.recipes&&t.recipes.length),p.xb(1),p.Wb("ngForOf",t.recipes))},directives:[l.j,l.i,P],styles:[""]}),e})();const W=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Bb({type:e,selectors:[["app-recipes"]],decls:6,vars:0,consts:[[1,"container-fluid","mt-5"],[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(e,t){1&e&&(p.Kb(0,"div",0),p.Kb(1,"div",1),p.Kb(2,"div",2),p.Ib(3,"app-recipe-list"),p.Jb(),p.Kb(4,"div",3),p.Ib(5,"router-outlet"),p.Jb(),p.Jb(),p.Jb())},directives:[A,r.g],styles:[""]}),e})(),canActivate:[i("P+IX").a,(()=>{class e{constructor(e,t){this.router=e,this.store=t}canActivate(e,t){return this.store.select("auth").pipe(Object(j.a)(1),Object(s.a)(e=>e.user),Object(s.a)(e=>!(!e||!e.emailVerified)||this.router.createUrlTree(["/user"])))}}return e.\u0275fac=function(t){return new(t||e)(p.Ob(r.c),p.Ob(d.b))},e.\u0275prov=p.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()],children:[{path:"",component:K},{path:"new",component:y},{path:":id",component:J,resolve:[k]},{path:":id/edit",component:y,resolve:[k]}]}];let M=(()=>{class e{}return e.\u0275mod=p.Fb({type:e}),e.\u0275inj=p.Eb({factory:function(t){return new(t||e)},imports:[[r.f.forChild(W)],r.f]}),e})();var N=i("PCNd");let T=(()=>{class e{}return e.\u0275mod=p.Fb({type:e}),e.\u0275inj=p.Eb({factory:function(t){return new(t||e)},imports:[[M,N.a,n.r]]}),e})()}}]);